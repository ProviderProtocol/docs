---
title: API Reference
description: Complete API reference for the ProviderProtocol library.
---

import { Aside, Badge, Tabs, TabItem } from '@astrojs/starlight/components';

# API Reference

This section documents the public API of the `@providerprotocol/ai` library, the reference implementation of the [UPP Specification](/spec/overview).

## Installation

<Tabs>
  <TabItem label="npm">
    ```bash
    npm install @providerprotocol/ai
    ```
  </TabItem>
  <TabItem label="pnpm">
    ```bash
    pnpm add @providerprotocol/ai
    ```
  </TabItem>
  <TabItem label="bun">
    ```bash
    bun add @providerprotocol/ai
    ```
  </TabItem>
</Tabs>

## Package Structure

The library is organized into several import paths:

| Import Path | Contents |
|-------------|----------|
| `@providerprotocol/ai` | Core functions (`llm`, `ai`, `Image`) and all types |
| `@providerprotocol/ai/anthropic` | Anthropic provider |
| `@providerprotocol/ai/openai` | OpenAI provider |
| `@providerprotocol/ai/google` | Google Gemini provider |
| `@providerprotocol/ai/ollama` | Ollama provider |
| `@providerprotocol/ai/http` | HTTP utilities (key strategies, retry strategies) |

## Quick Example

```typescript
import { llm } from '@providerprotocol/ai';
import { anthropic } from '@providerprotocol/ai/anthropic';

const claude = llm({
  model: anthropic('claude-sonnet-4-20250514'),
  system: 'You are a helpful assistant.',
});

const turn = await claude.generate('What is the capital of France?');
console.log(turn.response.text);
```

## Core Exports

### Functions

| Export | Description |
|--------|-------------|
| [`llm()`](/api/core/llm) | Create an LLM instance for chat/completion |
| [`createProvider()`](/api/core/provider) | Create a custom provider |
| [`Image`](/api/core/image) | Image utility class with factory methods |

### Namespace

```typescript
import { ai } from '@providerprotocol/ai';

const claude = ai.llm({
  model: anthropic('claude-sonnet-4-20250514'),
});
```

## Type Exports

All types are exported from the main package:

```typescript
import type {
  // Messages
  Message,
  UserMessage,
  AssistantMessage,
  ToolResultMessage,

  // Content
  ContentBlock,
  TextBlock,
  ImageBlock,

  // Conversation
  Thread,
  Turn,
  TokenUsage,

  // Streaming
  StreamEvent,
  StreamResult,

  // Tools
  Tool,
  ToolCall,
  ToolResult,
  ToolExecution,
  ToolUseStrategy,

  // Schema
  JSONSchema,
  JSONSchemaProperty,

  // Provider
  Provider,
  ProviderConfig,
  ModelReference,
  LLMCapabilities,

  // Errors
  UPPError,
  ErrorCode,
} from '@providerprotocol/ai';
```

## HTTP Utilities

Key management and retry strategies:

```typescript
import {
  // Key strategies
  RoundRobinKeys,
  WeightedKeys,
  DynamicKey,

  // Retry strategies
  ExponentialBackoff,
  LinearBackoff,
  NoRetry,
  TokenBucket,
  RetryAfterStrategy,
} from '@providerprotocol/ai';
```

<Aside type="note" title="Specification">
  This library implements the [UPP Specification](/spec/overview).
  All behaviors conform to the specification requirements.
</Aside>
